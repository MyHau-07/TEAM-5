{% extends "home/master.html" %}

{% block navbar %} 
    {% include 'home/includes/Navbar.html' %}
{% endblock %}

{% block menu-inner %} 
{% include 'home/includes/left_menu.html' %}
{% endblock %}

{% block content %}

<div class="container-xxl flex-grow-1 container-p-y">
    <div class="col-md-12">
        <div class="card">
          <h4 class="card-header text-center fw-bolder">ƒêƒÇNG K√ç D·ªäCH V·ª§ üè•</h4>

          <div class="card-body">
            <form action='{% url 'booking' %}' method='POST' enctype="multipart/form-data">
                {% csrf_token %}
                <div class="mb-4">
                    <label for="defaultInput" class="form-label">H·ªç v√† t√™n</label>
                    <input id="defaultInput" class="form-control" type="text" placeholder="Nh·∫≠p h·ªç v√† t√™n" name='fullname' required />
                </div>
                <div class="mb-4">
                    <label for="defaultInput" class="form-label">S·ªë ƒëi·ªán tho·∫°i</label>
                    <input id="defaultInput" class="form-control" type="text" placeholder="Nh·∫≠p s·ªë ƒëi·ªán tho·∫°i" name='phone' required />
                </div>
                <div class="mb-4">
                    <label for="defaultInput" class="form-label">Email</label>
                    <input id="defaultInput" class="form-control" type="email" placeholder="Nh·∫≠p email c·ªßa b·∫°n" name='email' required />
                </div>

                <div class="mb-4">
                    <label for="defaultSelect" class="form-label">ƒê·ªãa ƒëi·ªÉm</label>
                    <select id="defaultSelect" class="form-select" name='location' required>
                        <option value="">Ch·ªçn ƒë·ªãa ƒëi·ªÉm</option>
                        <option value="02 V√µ Oanh, Ph∆∞·ªùng 25, B√¨nh Th·∫°nh, H·ªì Ch√≠ Minh">02 V√µ Oanh, Ph∆∞·ªùng 25, B√¨nh Th·∫°nh, H·ªì Ch√≠ Minh</option>
                        <option value="S·ªë 70 ƒë∆∞·ªùng T√¥ K√Ω, ph∆∞·ªùng T√¢n Ch√°nh Hi·ªáp, qu·∫≠n 12, TPHCM">S·ªë 70 ƒë∆∞·ªùng T√¥ K√Ω, ph∆∞·ªùng T√¢n Ch√°nh Hi·ªáp, qu·∫≠n 12, TPHCM</option>
                        <option value="10/12 Tr·∫ßn N√£o, KP3, P. B√¨nh An, TP. Th·ªß ƒê·ª©c, TP. HCM">10/12 Tr·∫ßn N√£o, KP3, P. B√¨nh An, TP. Th·ªß ƒê·ª©c, TP. HCM</option>
                    </select>
                </div>
                <div class="mb-4">
                    <label for="defaultSelect" class="form-label">D·ªãch V·ª•</label>
                    <select id="defaultSelect" class="form-select" name='dich_vu' required>
                        <option value="">Ch·ªçn d·ªãch v·ª•</option>
                        {% for service in serv %}
                            <option value="{{ service.id }}">{{ service.name }}</option> <!-- Use service.id if you need the ID -->
                        {% endfor %}
                    </select>
                </div>
                <div class="mb-4">
                    <label for="defaultInput" class="form-label">Th√¥ng tin b·ªánh (n·∫øu c√≥)</label>
                    <input id="defaultInput" class="form-control" type="text" placeholder="Nh·∫≠p th√¥ng tin b·ªánh (n·∫øu c√≥)" name='message' />
                </div>
                <div class="mb-4">
                    <label for="formFile" class="form-label">T·∫£i ·∫£nh (n·∫øu c√≥)</label>
                    <input class="form-control" type="file" id="formFile" name="photo" />
                </div>
                <div class="mb-4">
                    <label for="appointment-date" class="form-label">Ch·ªçn ng√†y h·∫πn</label>
                    <input type="date" id="appointment-date" class="form-control" name="appointment_date" required >
                </div>

                <div class="mb-4">
                    <label for "appointment-time-select" class "form-label">Ch·ªçn gi·ªù h·∫πn</label>
                    <select id "appointment-time-select" class "form-select" name "appointment_time">
                        <option value="">Ch·ªçn gi·ªù h·∫πn</option>
                        {% for time in valid_times %}
                            <option value="{{ time }}">{{ time }}</option>
                        {% endfor %}
                    </select>
                </div>

            </div>
            <div class "col-md-12 text-center mb-5">
                <button id "complete-btn" type "submit"class "btn btn-primary btn-lg">
                    Ho√†n t·∫•t
                </button>
            </div>
            </form>

        </div> <!-- End of card body -->
      </div> <!-- End of card -->
    </div> <!-- End of col-md-12 -->
</div> <!-- End of container -->

<script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>

{% if messages %}
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            {% for message in messages %}
                Swal.fire({
                    title: 'Th√¥ng b√°o',
                    text: '{{ message }}',
                    icon: '{% if message.tags == "success" %}success{% else %}error{% endif %}',
                    confirmButtonText: 'OK'
                });
            {% endfor %}
        });
    </script>
{% endif %}

{% endblock %}


{% block footer %} 
{% include "home/includes/footer.html" %}
{% endblock %}